# Проверка подключения бота

## Токен бота
```
8398428554:AAFbvWG_4iwu870yDkqkhS_77Nf3yQpOi9E
```

## Быстрая проверка

### 1. Проверьте наличие .env файла

В директории `back/` должен быть файл `.env` с содержимым:

```env
TELEGRAM_BOT_TOKEN=8398428554:AAFbvWG_4iwu870yDkqkhS_77Nf3yQpOi9E
WEB_APP_URL=https://ait-prog.github.io/T-Parser
HOST=0.0.0.0
PORT=8000
```

### 2. Запустите проверку

```bash
cd back
python check_bot.py
```

Скрипт проверит:
- ✅ Наличие токена
- ✅ Валидность токена через Telegram API
- ✅ Информацию о боте
- ✅ Настройку WEB_APP_URL

### 3. Проверка через API напрямую

```bash
curl "https://api.telegram.org/bot8398428554:AAFbvWG_4iwu870yDkqkhS_77Nf3yQpOi9E/getMe"
```

Должен вернуть информацию о боте.

## Зарегистрированные команды

- ✅ `/start` - Начать работу
- ✅ `/hello` - Описание бота
- ✅ `/help` - Помощь
- ✅ `/run` - Запустить Mini App
- ✅ `/parse <url>` - Парсинг страницы
- ✅ `/cities` - Список городов
- ✅ `/dev` - Информация об авторе
- ✅ `/app` - Алиас для /run

## Запуск бота

### Вариант 1: Polling (для разработки)

```bash
cd back
python bot_runner.py
```

### Вариант 2: С FastAPI (для продакшена)

```bash
cd back
python run.py
```

Бот автоматически инициализируется при старте сервера.

## Настройка Webhook (опционально)

После деплоя бэкенда установите webhook:

```bash
curl "https://your-backend-url.com/api/bot/set-webhook?webhook_url=https://your-backend-url.com/api/bot/webhook"
```

## Проверка работы

1. Найдите вашего бота в Telegram
2. Отправьте команду `/start`
3. Должно прийти приветственное сообщение с кнопкой Mini App

## Возможные проблемы

### Бот не отвечает
- Проверьте, что токен правильный
- Убедитесь, что бот запущен (bot_runner.py или run.py)
- Проверьте логи на ошибки

### Кнопка Mini App не работает
- Убедитесь, что WEB_APP_URL установлен правильно
- URL должен быть публичным (не localhost)
- Проверьте, что фронтенд задеплоен

### Команды не работают
- Проверьте, что все обработчики зарегистрированы в bot.py
- Убедитесь, что бот перезапущен после изменений

