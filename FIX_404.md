# Исправление ошибки 404 на GitHub Pages

## Проблема
При открытии https://ait-prog.github.io/T-Parser/ показывается ошибка 404 "File not found".

## Причины
1. Workflow не запустился или не завершился успешно
2. Файлы не были правильно задеплоены
3. Неправильная структура файлов после сборки с basePath
4. GitHub Pages не настроен правильно

## Решение

### Шаг 1: Проверьте статус workflow

1. Откройте: https://github.com/ait-prog/T-Parser/actions
2. Проверьте последний запуск workflow "Deploy Frontend to GitHub Pages"
3. Убедитесь, что все шаги выполнены успешно (зеленые чекмарки ✅)

### Шаг 2: Проверьте настройки GitHub Pages

1. Откройте: https://github.com/ait-prog/T-Parser/settings/pages
2. Убедитесь, что:
   - **Source**: `GitHub Actions` (не "Deploy from a branch")
   - Если опция недоступна, сначала запустите workflow вручную

### Шаг 3: Запустите workflow вручную

1. Откройте: https://github.com/ait-prog/T-Parser/actions
2. В левом меню выберите **"Deploy Frontend to GitHub Pages"**
3. Нажмите **"Run workflow"** (справа вверху)
4. Выберите ветку **main**
5. Нажмите **"Run workflow"**

### Шаг 4: Проверьте логи workflow

После запуска проверьте следующие шаги:

1. **Build** → должен успешно собрать проект
2. **Verify build output** → должен показать:
   - `✅ T-Parser subdirectory found` или
   - `✅ index.html found in root`
3. **Deploy to GitHub Pages** → должен успешно задеплоить

### Шаг 5: Ожидание и проверка

1. Дождитесь завершения workflow (2-5 минут)
2. После успешного деплоя подождите еще 1-2 минуты для обновления GitHub Pages
3. Откройте: https://ait-prog.github.io/T-Parser/
4. Должно отображаться приложение, а не 404

## Что было исправлено

### 1. Workflow (`.github/workflows/deploy.yml`)
- ✅ Добавлены явные переменные окружения для сборки
- ✅ Улучшена проверка структуры файлов после сборки
- ✅ Автоматическое определение правильного пути для деплоя
- ✅ Правильное создание `.nojekyll` файла

### 2. Next.js конфигурация (`frontend/next.config.js`)
- ✅ Улучшена логика определения basePath
- ✅ Поддержка переменных окружения для GitHub Actions

## Если проблема сохраняется

### Вариант 1: Проверьте логи workflow детально

1. Зайдите в **Actions** → последний запуск
2. Откройте каждый шаг и проверьте:
   - **Install dependencies** - нет ли ошибок
   - **Build** - успешно ли собрался проект
   - **Verify build output** - что именно показано в логах
   - **Deploy** - успешно ли задеплоился

### Вариант 2: Проверьте структуру файлов

В логах шага "Verify build output" должно быть видно:
- Либо `out/T-Parser/index.html` (если basePath работает)
- Либо `out/index.html` (если basePath не применяется)

### Вариант 3: Альтернативное решение - убрать basePath

Если проблема не решается, можно попробовать убрать basePath:

1. В `frontend/next.config.js` временно установите:
   ```javascript
   const basePath = ''
   ```

2. Запушите изменения и запустите workflow заново

3. После этого сайт будет доступен по: https://ait-prog.github.io/ (без /T-Parser)

**Внимание**: Это изменит URL приложения!

### Вариант 4: Использование Vercel (рекомендуется)

Vercel лучше работает с Next.js и не требует настройки basePath:

1. Зайдите на https://vercel.com
2. Импортируйте репозиторий `ait-prog/T-Parser`
3. Настройки:
   - **Root Directory**: `frontend`
   - **Framework Preset**: Next.js
   - **Environment Variables**:
     - `NEXT_PUBLIC_API_URL` = ваш URL бэкенда
4. Деплой автоматический

## Контакты

Если проблема не решена после выполнения всех шагов:
1. Проверьте логи workflow в Actions
2. Убедитесь, что все файлы закоммичены и запушены
3. Проверьте настройки GitHub Pages в Settings

